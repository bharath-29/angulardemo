<!-- {{contractForm.value |json}} 
 {{contractForm.valid}} -->
<app-header></app-header>
<app-navbar></app-navbar>
<div class="formClass">
	<h2>Contract Form</h2>
	<form [formGroup]="contractForm">
		<table class="example-full-width" cellspacing="0">
			<tr>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Contract Id</mat-label>
						<input matInput #contractId  maxlength="6" placeholder="Ex. 931053" required
							formControlName="contractId" >
						<mat-hint align="end">{{contractId.value.length}} / 6</mat-hint>
						
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Prism Id</mat-label>
						<input matInput #prismId maxlength="6" placeholder="Ex. 941053" required
							formControlName="prismId">
						<mat-hint align="end">{{prismId.value.length}} / 6</mat-hint>
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Offshore-HC</mat-label>
						<input matInput placeholder="Ex.0.0" formControlName="offshoreHC" required type="number">
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Onsite-HC</mat-label>
						<input matInput placeholder="Ex.0.0" formControlName="onsiteHC" required type="number">
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Offsite-HC</mat-label>
						<input matInput placeholder="Ex.0.0" formControlName="offsiteHC" required type="number">
					</mat-form-field>
				</td>
			</tr>
			<tr>
				<td><mat-form-field class="example-full-width">
						<mat-label>Value Added Resources</mat-label>
						<input matInput placeholder="Ex.0.0" formControlName="valueAddedRes" required type="number">
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Opco</mat-label>
						<mat-select formControlName="opco" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Onsite-PM</mat-label>
						<input matInput placeholder="Ex.Sanjay" required formControlName="onsitePM">
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Onsite-DM</mat-label>
						<input matInput placeholder="Ex.Sanjay" required formControlName="onsiteDM">
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Offshore-PM</mat-label>
						<input matInput placeholder="Ex.Sanjay" required formControlName="offshorePM">
					</mat-form-field>
				</td>
			</tr>
			<tr>
				<td><mat-form-field class="example-full-width">
						<mat-label>Offshore-DM</mat-label>
						<input matInput placeholder="Ex.Sanjay" required formControlName="offshoreDM">
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Offshore-DM-Sap</mat-label>
						<input matInput #offshoreDmId maxlength="6" placeholder="Ex. 941053" required
							formControlName="offshoreDMSap">
						<mat-hint align="end">{{offshoreDmId.value.length}} / 6</mat-hint>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Offshore-PM-Sap</mat-label>
						<input matInput #offshorePmId maxlength="6" placeholder="Ex. 941053" required
							formControlName="offshorePMSap">
						<mat-hint align="end">{{offshorePmId.value.length}} / 6</mat-hint>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Contract Start Date</mat-label>
						<input matInput [matDatepicker]="startDatePicker" formControlName="contractStartDate" required>
						<mat-hint>MM/DD/YYYY</mat-hint>
						<mat-datepicker-toggle matIconSuffix [for]="startDatePicker"></mat-datepicker-toggle>
						<mat-datepicker #startDatePicker></mat-datepicker>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Contract End Date</mat-label>
						<input matInput [matDatepicker]="EndDatePicker" formControlName="contractEndDate" required>
						<mat-hint>MM/DD/YYYY</mat-hint>
						<mat-datepicker-toggle matIconSuffix [for]="EndDatePicker"></mat-datepicker-toggle>
						<mat-datepicker #EndDatePicker></mat-datepicker>
					</mat-form-field>
				</td>
			</tr>
			<tr>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Vendor</mat-label>
						<mat-select formControlName="vendor" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Engagement Type</mat-label>
						<input matInput placeholder="Ex.O2S" required formControlName="engagementType">
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Contract Type</mat-label>
						<input matInput placeholder="Ex.O2S" required formControlName="contractType">
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Relationship</mat-label>
						<mat-select formControlName="relationship" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Cost Management</mat-label>
						<mat-select formControlName="costManagement" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>

			</tr>
			<tr>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Quality</mat-label>
						<mat-select formControlName="quality" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Delivery</mat-label>
						<mat-select formControlName="delivery" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Resources</mat-label>
						<mat-select formControlName="resources" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Region</mat-label>
						<mat-select formControlName="region" required>
							<mat-option value="Red">Red</mat-option>
							<mat-option value="green">green</mat-option>
							<mat-option value="yellow">yellow</mat-option>
						</mat-select>
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Contract Manager</mat-label>
						<input matInput placeholder="Ex.ShivamSneha" required formControlName="contractMgr">
					</mat-form-field>
				</td>
			</tr>
			<tr>
				<td><mat-form-field class="example-full-width">
						<mat-label>Contract Director</mat-label>
						<input matInput placeholder="Ex.Raja" required formControlName="contractDirector">
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Contract Access:Yes</mat-label>
						<input matInput placeholder="Ex.Yes" required formControlName="contractAccessYes">
					</mat-form-field>
				</td>
				<td>
					<mat-form-field class="example-full-width">
						<mat-label>Addition-PM-sap</mat-label>
						<input matInput #additionPMAccessSap maxlength="6" placeholder="Ex. 941053" required
							formControlName="additionPMAccessSap">
						<mat-hint align="end">{{additionPMAccessSap.value.length}} / 6</mat-hint>
					</mat-form-field>
				</td>
				<td><mat-form-field class="example-full-width">
						<mat-label>Contract Access:No</mat-label>
						<input matInput placeholder="Ex.no" required formControlName="contractAccessNo">
					</mat-form-field>
				</td>

			</tr>

		</table><br>
		<div formArrayName="managerDetails">
			<mat-accordion>
				<mat-expansion-panel>
					<mat-expansion-panel-header>
						<mat-panel-title>
							Manager Details
						</mat-panel-title>
					</mat-expansion-panel-header>
					<div *ngFor="let managerDetail of managerDetails.controls;let i=index">
						<div [formGroupName]="i">
							<table>
								<tr>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client Manager</mat-label>
											<input matInput placeholder="Ex. Raja" formControlName="clientManager">
										</mat-form-field>
									</td>

									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client Manager LDAP</mat-label>
											<input type="number" matInput #clientManagerLdap maxlength="6" placeholder="Ex. 232323"
											required formControlName="clientManagerLdap" >
											<mat-hint align="end">{{clientManagerLdap.value.length}} / 6</mat-hint>
										</mat-form-field>
									</td>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client Director</mat-label>
											<input matInput placeholder="Ex. Raja" formControlName="clientDir">
										</mat-form-field>
									</td>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client Director LDAP</mat-label>
											<input matInput #clientDirLdap maxlength="6" placeholder="Ex. 941053"
												required formControlName="clientDirLdap" type="number">
											<mat-hint align="end">{{clientDirLdap.value.length}} / 6</mat-hint>
										</mat-form-field>
									</td>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client VP</mat-label>
											<input matInput placeholder="Ex. Raja" formControlName="clientVp">
										</mat-form-field>
									</td>
								</tr>
								<tr>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client VP LDAP</mat-label>
											<input matInput #clientVpLdap maxlength="6" placeholder="Ex. 941053"
												required formControlName="clientVpLdap" >
											<mat-hint align="end">{{clientVpLdap.value.length}} / 6</mat-hint>
										</mat-form-field>
									</td>
									<td>
										<mat-form-field class="example-full-width">
											<mat-label>Client SVP</mat-label>
											<input matInput placeholder="Ex. Raja" formControlName="clientSvp">
										</mat-form-field>
									</td>
									<td>
										<section class="example-full-width">
											<mat-checkbox class="example-margin"
												formControlName="defaultManager">Default Manager</mat-checkbox>

										</section>
									</td>

									<mat-icon (click)="deleteManagerArray()">delete</mat-icon>
								</tr>

							</table>
						</div>
					</div>


					<button mat-raised-button color="accent" type="button" (click)="addManager()">Add Manager</button>



				</mat-expansion-panel>
			</mat-accordion>
		</div>
	</form>
	<br>






	<button mat-raised-button color="accent" type="submit" [disabled]="isDisabled()"
		(click)="submitData()">Submit</button>
	<button mat-raised-button color="accent" style="margin: 5px;" (click)="reset()">Reset</button>
	<button mat-raised-button color="accent" style="margin: 5px;"><mat-icon>download</mat-icon></button>

	<br><br>
	<mat-divider></mat-divider>

	<style>
		#contract-list table,
		#contract-list th,
		#contract-list td {
			border: 1px solid
		}
	</style>
		<!-- My code -->
		<div style="width: 100%; overflow-x: scroll ;" id="contract-list">
			<table class="example-full-width" cellspacing="0">
				<thead>
					<th>
						Contract ID
					</th>
					<th>
						Client PM
					</th>
					<th>
						Client VP
					</th>
					<th>
						Client SVP
					</th>
					<th>
						Client Director
					</th>
					<th>
						Contract Manager
					</th>
					<th>
						Offshore-PM
					</th>
					<th>
						Offshore-DM
					</th>
					<th>
						Contract Start Date
					</th>
					<th>
						Contract End Date
					</th>
				</thead>
				<tbody>
					<tr *ngFor="let item of  dataToShow ">
						<td>{{item.contractId}}</td>
						<td>{{item.managerDetails[0].clientManager}}</td>
						<td>{{item.managerDetails[0].clientVp}}</td>
						<td>{{item.managerDetails[0].clientSvp}}</td>
						<td>{{item.managerDetails[0].clientDir}}</td>
						<td>{{item.contractMgr}}</td>
						<td>{{item.offshorePM}}</td>
						<td>{{item.offshorePM}}</td>
						<td>{{item.contractStartDate}}</td>
						<td>{{item.contractStartDate}} </td>
					</tr>
				</tbody>

				<!-- {{dataToShow | json}} -->




			</table>
		</div>
	</div>

	